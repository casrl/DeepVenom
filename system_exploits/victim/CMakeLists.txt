cmake_minimum_required(VERSION 3.1 FATAL_ERROR)
project(deepvenom VERSION 1.0.0 LANGUAGES CXX)

set(EXECUTABLE_NAME deepvenom)

set(CMAKE_BUILD_TYPE Debug)

find_package(Torch REQUIRED)

add_executable(${EXECUTABLE_NAME})
target_sources(${EXECUTABLE_NAME} PRIVATE main.cpp
              src/cifar10.cpp
              src/transform.cpp
              include/cifar10.h
              include/transform.h
)

target_include_directories(${EXECUTABLE_NAME} PRIVATE include)

target_link_libraries(${EXECUTABLE_NAME} ${TORCH_LIBRARIES} pthread)

set_target_properties(${EXECUTABLE_NAME} PROPERTIES
  CXX_STANDARD 17
  CXX_STANDARD_REQUIRED YES
)
